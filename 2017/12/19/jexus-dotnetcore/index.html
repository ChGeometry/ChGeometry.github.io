<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>jexus 支持dotnet core 项目 | L O G</title><meta name="description" content="Jexus 即 Jexus Web Server，简称JWS，是Linux平台上的一款ASP.NET WEB服务器，是 Linux、Unix、FreeBSD 等非Windows系统架设 ASP.NET WEB 服务器的核心程序，是企业级ASP.NET跨平台部署的一种可选方案。与其它WEB服务器相比，Jexus不但具有跨平台ASP.NET服务器这样的标志性特征，同时还拥有内核级的安全监控、入侵检测、"><meta name="keywords" content="c#,linux,jexus"><meta name="author" content="GEOMCH"><meta name="copyright" content="GEOMCH"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="preconnect" href="https://hm.baidu.com"/><link rel="dns-prefetch" href="https://hm.baidu.com"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="jexus 支持dotnet core 项目"><meta name="twitter:description" content="Jexus 即 Jexus Web Server，简称JWS，是Linux平台上的一款ASP.NET WEB服务器，是 Linux、Unix、FreeBSD 等非Windows系统架设 ASP.NET WEB 服务器的核心程序，是企业级ASP.NET跨平台部署的一种可选方案。与其它WEB服务器相比，Jexus不但具有跨平台ASP.NET服务器这样的标志性特征，同时还拥有内核级的安全监控、入侵检测、"><meta name="twitter:image" content="http://picgo.imaybe.cn/mine/post_default_cover2.png"><meta property="og:type" content="article"><meta property="og:title" content="jexus 支持dotnet core 项目"><meta property="og:url" content="http://www.dotnetlog.com/2017/12/19/jexus-dotnetcore/"><meta property="og:site_name" content="L O G"><meta property="og:description" content="Jexus 即 Jexus Web Server，简称JWS，是Linux平台上的一款ASP.NET WEB服务器，是 Linux、Unix、FreeBSD 等非Windows系统架设 ASP.NET WEB 服务器的核心程序，是企业级ASP.NET跨平台部署的一种可选方案。与其它WEB服务器相比，Jexus不但具有跨平台ASP.NET服务器这样的标志性特征，同时还拥有内核级的安全监控、入侵检测、"><meta property="og:image" content="http://picgo.imaybe.cn/mine/post_default_cover2.png"><meta property="article:published_time" content="2017-12-19T05:39:25.000Z"><meta property="article:modified_time" content="2019-12-01T03:25:42.776Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://www.dotnetlog.com/2017/12/19/jexus-dotnetcore/"><link rel="prev" title="jexus 添加自启 ubuntu" href="/http:/www.dotnetlog.com/2017/12/19/jexus-ubuntu-powerboot/"><link rel="next" title="资源unity大全" href="/http:/www.dotnetlog.com/2017/07/01/awesome-unity/"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?7ea1831b6a454928dd0a6aa786e6f617";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-168829743-1', 'auto');
ga('send', 'pageview');
</script><link rel="stylesheet" href="https://fonts.loli.net/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: false,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://octodex.github.com/images/hubot.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">54</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">40</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">36</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/rubik/"><i class="fa-fw fa fa-cube"></i><span> 魔方</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装jexus独立版"><span class="toc-number">1.</span> <span class="toc-text">安装jexus独立版</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Jexus-系统配置"><span class="toc-number">2.</span> <span class="toc-text">Jexus 系统配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#网站配置"><span class="toc-number">3.</span> <span class="toc-text">网站配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置实例"><span class="toc-number">4.</span> <span class="toc-text">配置实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Jexus操作"><span class="toc-number">5.</span> <span class="toc-text">Jexus操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#备注"><span class="toc-number">6.</span> <span class="toc-text">备注</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(http://picgo.imaybe.cn/mine/post_default_cover2.png)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">L O G</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/rubik/"><i class="fa-fw fa fa-cube"></i><span> 魔方</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">jexus 支持dotnet core 项目</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date" title="发表于 2017-12-19 13:39:25"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2017-12-19</time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/linux/">linux</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p>Jexus 即 Jexus Web Server，简称JWS，是Linux平台上的一款ASP.NET WEB服务器，是 Linux、Unix、FreeBSD 等非Windows系统架设 ASP.NET WEB 服务器的核心程序，是企业级ASP.NET跨平台部署的一种可选方案。与其它WEB服务器相比，Jexus不但具有跨平台ASP.NET服务器这样的标志性特征，同时还拥有内核级的安全监控、入侵检测、URL重写、无文件路由等一系列重要功能和专有特性。</p>
<p>关于它的定义简单明了，就是一款Linux上的Asp.Net Web服务器，相当于我们的Windows上的IIS，Jexus5.8.2的正式发布为Asp.Net Core进入生产环境提供了平台支持。</p>
<p>本版的亮点是新增“AppHost”配置项，将HTTP自宿主应用程序（如Asp.net Core应用程序、Node.js应用程序等）统一纳入Jexus的工作进程序列进行管控（启动、停止、重启、崩溃后自动恢复等管理、监控功能），为Asp.Net Core应用程序进入企业化生产环境提供了强有力的平台保障。使用 jexus整合asp.net core的优点：</p>
<pre><code>1)支持多站点，同一端口可以同时支持任何多的asp.net core应用程序；

2)应用程序启动、停止、重启与站点的启动、停止、重启等操作一致，无需手工管理asp.net core应用程序；

3)具有应用程序崩溃后自动重启功能，为企业级不间断运行保障；

4)具有比反向代理更高的性能优势；

5)提供与IIS相同的HTTP环境参数。</code></pre><h3 id="安装jexus独立版"><a href="#安装jexus独立版" class="headerlink" title="安装jexus独立版"></a>安装jexus独立版</h3><blockquote>
<p>注：运行安装命令，需要操作者有root权限</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">curl https://jexus.org/release/x64/install.sh|sh</span></pre></td></tr></table></figure>
<h3 id="Jexus-系统配置"><a href="#Jexus-系统配置" class="headerlink" title="Jexus 系统配置"></a>Jexus 系统配置</h3><p>Jexus按默认配置就能很好的工作，进一步配置是为了Jexus更适合自己的需要。<br>Jexus最核心的一个配置文件，固定文件名是jws.conf，这个文件与jexus的其它工作文件在同一个文件夹中。</p>
<p>jws.conf有如果基本配置内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">SiteLogDir&#x3D;log    #网站日志以及Jexus系统日志的存放位置，必填项。可以使用基于jws.exe文件的相对路径</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">SiteConfigDir&#x3D;siteconf     #网站配置文件存放的位置，是必填项。可以使用绝对路径，也可以使用基于jws.conf文件的相对路径</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">Runtime&#x3D;v4.0.30319    #设定Jexus工作进程运行于哪个.NET版本</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">httpd.processes&#x3D;1     #工作进程的数量，建议每6-8核CPU用一个进程，最多可设4个进程</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">httpd.user&#x3D;www-data     #工作进程以什么用户身份和对应权限工作，默认为root</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">php-fcgi.set&#x3D;&#x2F;usr&#x2F;bin&#x2F;php-cgi,6    #如果需要Jexus同时充当PHP FastCGI服务器，这一句就是fast-cgi设置，分两个部分，逗号前为php-cgi这个文件的路径，逗号后是php进程数</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">CertificateFile&#x3D;&#x2F;xxxx&#x2F;xx.crt    #SSL证书路径（如果需要使用https协议才填）</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">CertificateKeyFile&#x3D;&#x2F;xxxx&#x2F;xx.key    #SSL密钥文件路径（如果需要使用https协议才填）</span></pre></td></tr></table></figure>
<blockquote>
<p>注：jws.conf 中,SiteConfigDir 和 SiteLogDir 两项是必填项</p>
</blockquote>
<h3 id="网站配置"><a href="#网站配置" class="headerlink" title="网站配置"></a>网站配置</h3><p>Jexus支持多站点，可以用不同的端口、域名、虚拟路径设置任意多的网站，配置时，首先要注意如下三个规则：</p>
<pre><code>1）必须把所有网站配置文件放到jws.conf指定的网站配置文件夹内，这个文件夹除了网站配置文件，不能有其它任何文件，因为jexus会认为这儿的任何一个文件都代表着一个不同的网站。

2）每个网站有且只有一个配置文件，配置文件的文件名就是这个网站的名称，比如 www.mysite.cn这个网站，配置文件名可以写成“mysite”，当然也可以写成其它文件名，以便管理员容易记忆和识别，但要特别注意：文件名不能有空格！

3）一个网站可以拥有任意多的域名，不同网站不能有相同的域名，没有域名的网站只能有一个，这个没有域名的网站叫做“默认网站”，而一台服务器最多只能有一个默认网站。</code></pre><h3 id="配置实例"><a href="#配置实例" class="headerlink" title="配置实例"></a>配置实例</h3><p>A、网站配置的基本内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">port&#x3D;80                          # jexus WEB服务器侦听端口（必填。当然可以是其它端口）</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">root&#x3D;&#x2F; &#x2F;var&#x2F;www&#x2F;mysite           # 网站URL根路径（虚拟目录）和对应的物理路径，两个路径字串之间必须用空格分开（必填。既使这个网站是一个纯粹的反向代理站，也得填）</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">#可选项</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">hosts&#x3D;mysite.cn,www.mysite.cn    # 网站域名（建议填写），可以用泛域名，比如：*.mysite.cn（不填此项或只填一个“*”号表示这是默认网站，一个端口只能有一个默认站）</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">indexs&#x3D;index.aspx,index.htm      # 首页文件名，可以写多个，用英文逗号分开（可以不填。因为JWS系统含有常用首页名）</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">aspnet_exts&#x3D;mspx,ttt             # 添加新出现的或自定义的ASP.NET扩展名（不建议填。多个扩展名用英文逗号分开，不加点号。系统含有常用扩展名）</span></pre></td></tr></table></figure>
<p>B、最简配置示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">port&#x3D;80</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">root&#x3D;&#x2F; &#x2F;var&#x2F;www&#x2F;default</span></pre></td></tr></table></figure>
<p>C、网站配置的高级选项<br>网站配置的高级选项全是可选项，应该根据网站的实际需要选填。<br>灵活使用高级选项，可以架设出一台与众不同的、功能强大的服务器平台或者服务器群组。</p>
<pre><code>1、使用“URL重写”功能
URL重写是指WEB服务器将访问者的请求URL路径资源按指定的匹配规则解释和匹配为另外的一个真实RUL路径资源。

比如，希望别人访问“.php”类型的文件时，服务器返回 /404.html 这个文件：</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">rewrite&#x3D;^&#x2F;.+?\.(asp|php|cgi)$ &#x2F;404.html</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"># 格式：</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"># “rewrite&#x3D;”的后面是两部分阻成，两部分之间由一个空格分开。</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  空格前是匹配的条件：用正则表达式描述URL的匹配条件。</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  空格后是匹配的目标：指的是如果用户访问的路径合乎前面的匹配条件，服务器将以哪个规则回应。</span></pre></td></tr></table></figure>

<pre><code>又如：
把“/bbs”解析为“/bbs/index.aspx”，把“/bbs/file-1” 匹配为 “/bbs/show.aspx?id=1”：</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">rewrite&#x3D;^&#x2F;bbs$ &#x2F;bbs&#x2F;index.aspx</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">rewrite&#x3D;^&#x2F;bbs&#x2F;file-([0-9]&#123;1,6&#125;)$ &#x2F;bbs&#x2F;show.aspx?id&#x3D;$1</span></pre></td></tr></table></figure>
<pre><code>格式解释：rewrite的等号后含有两部分内容，用空隔分开。前半部分是一个正则表达式，用于描述需要URL重写的（用户浏览器中的）url路径样式，后半部分是当用户的URL合乎前面的正则表达式时，JWS应该重写和访问的真实URL路径。

2、禁止某IP或IP段访问本网站</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">denyfrom&#x3D;111.222.111.*</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">denyfrom&#x3D;101.202.111.*</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">denyfrom&#x3D;101.201.1.132</span></pre></td></tr></table></figure>

<pre><code>3、禁止访问某文件夹及其子文件夹中的内容</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">DenyDirs&#x3D;网站文件夹路径的URL路径，如 “&#x2F;abcfiles”或 “~&#x2F;abcfiles”，多个路径，用英文逗号分开</span></pre></td></tr></table></figure>

<pre><code>4、是否对请求的URL等进行安全检测
本选项默认是true，即需要检查，除非你的确需要关掉这个选项，否则可以不填，格式如下：</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">checkquery&#x3D;false</span></pre></td></tr></table></figure>
<blockquote>
<p>（关掉本项可以提高服务器速度，但就安全而言，不建议关掉它）</p>
</blockquote>
<pre><code>5、NOFILE（无文件）功能</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">nofile&#x3D;&#x2F;mvc&#x2F;controller.aspx</span></pre></td></tr></table></figure>
<blockquote>
<p>（注：这是Jexus特有的功能，指的是如果服务器不存在用户要访问的文件，服务器将使用什么文件应答。）</p>
</blockquote>
<blockquote>
<p>（提示：路由后，原RUL路径会存贮在Jexus特有一个服务器变量“X-Real-Uri”中）</p>
</blockquote>
<blockquote>
<p>（技巧：用这个功能，或者再加上URL Rewrite功能，你完全可以把URL路径与真实路径隔离开来，达到信息隐藏和简化URL的作用。）</p>
</blockquote>
<pre><code>6、NOLOG（无日志）功能</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">nolog&#x3D;yes</span></pre></td></tr></table></figure>
<blockquote>
<p>（注：禁用网站日志功能会提高WEB服务器系统的的处理速度，但不足也是明显的，就是你无法详细了解网站的访问情况了）</p>
</blockquote>
<pre><code>7、长连接开关</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">keep_alive&#x3D;true</span></pre></td></tr></table></figure>
<blockquote>
<p>注：V5.1版默认值是true，即默认使用长连接，可以不填。</p>
</blockquote>
<pre><code>8、反向代理功能</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">reproxy&#x3D; &#x2F;abc&#x2F; http:&#x2F;&#x2F;www.xxxx.com:890&#x2F;abc&#x2F;</span></pre></td></tr></table></figure>
<blockquote>
<p>参数的值由本站RUL根路径和目标网站URL根路径两部分组成，之间用空隔分开。</p>
</blockquote>
<blockquote>
<p>*技巧：反向代量的目标地址可以有多个，用英文逗号分隔，如：<br>reproxy=/abc/ <a href="http://192.168.0.3/abc/,http://192.168.0.4/abc/" target="_blank" rel="noopener">http://192.168.0.3/abc/,http://192.168.0.4/abc/</a><br>这时，当用户访问/abc/时，jexus就会随机选择一台服务器进行访问，达到负载均衡或服务器集群的效果。</p>
</blockquote>
<pre><code>9、接受FAST-CGI提供的服务
对于TCP连接：
fastcgi.add=需要fast-cgi处理的文件扩展名|tcp:fast-cgi服务的IP地址:端口
如：</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fastcgi.add&#x3D;php,php3|tcp:127.0.0.1:9000</span></pre></td></tr></table></figure>
<pre><code>对于unix sockets：
fastcgi.add=需要fcgi处理的文件扩展名|socket:路径
如:</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fastcgi.add&#x3D;php,php3|socket:&#x2F;tmp&#x2F;phpsvr</span></pre></td></tr></table></figure>

<pre><code>10、启用gzip压缩功能</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">usegzip&#x3D;true    #即UseGzip</span></pre></td></tr></table></figure>
<blockquote>
<p>解释：启用这个功能后，当用户访问“.htm”“.js”等文件时，Jexus会将这些文件进行GZIP压缩后发送给用户浏览器，这样，可以节约更多的网络带宽。</p>
</blockquote>
<pre><code>11、启用HTTPS进行SSL安全传输
本功能是对服务器与客户之间的数据进行加密传送，提供数据的保密性。具体方法请访问www.linuxdot.net的专题讲解。

12、AppHost
格式：AppHost={CmdLine=命行行; AppRoot=工作路径; Port=端口号}  </code></pre><blockquote>
<p>说明：CmdLine:必选项。表示启动这个web应用程序的命令（含参数），如 CmdLine= dotnet /var/www/aspnetcore/AspNetCoreStarted.dll<br>AppRoot:必选项。表示这个应用程序的工作目录，如：AppRoot=/var/www/aspnetcore  </p>
</blockquote>
<blockquote>
<p>Port:可选项。表示这个应用程序的侦听端口，多个端口用英文逗号分隔（注：如果没有填写这一项，就请在AppHost.port或reproxy中填写端口号，否则，请求数据无法转发给应用程序）。  </p>
</blockquote>
<blockquote>
<p>Env:可选参数。表示这个应用程序工作时需要的环境变量，如 env=(PATH=/usr/local/bin:/var/www/aspnetcore:$PATH),多个设置用英文逗号分开。  </p>
</blockquote>
<blockquote>
<p>ErrLog:可选项。表示将这个应用程序的异常输出重定向到指定的文件（需填写完整路径）,如果不原意输出日志，可以不用OutLog项。这时, jexus会自动关掉控制台输出（实质是重定向到/dev/null中了）；  </p>
</blockquote>
<blockquote>
<p>OutLog:可选项。表示将这个应用程序的控制台输出重定向到指定的文件（需填写完整路径）；  </p>
</blockquote>
<blockquote>
<p>User: 可选项。以指定的用户身份运行该应用程序，默认为root身份。  </p>
</blockquote>
<blockquote>
<p>注意：<br>   1，AppHost像AppHost.Port一样，不支持虚拟路径；<br>   2，AppHost功能是将指定的具有http服务能力的web应用程序纳入jexus工作进程进行管理，对Asp.Net Core或Node.js等自宿主web程序用于生产环境具有重要的意义。  </p>
</blockquote>
<h3 id="Jexus操作"><a href="#Jexus操作" class="headerlink" title="Jexus操作"></a>Jexus操作</h3><p>Jexus自带了三个脚本，分别是：jws.start、jws.restart、jws.stop。</p>
<pre><code>功能1，对Jexus服务器操作：</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">jws.start     <span class="comment">#启动JEXUS服务，可以写入rc.local文件中，从而达到开机自启动的目的；</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">jws.stop      <span class="comment">#停止Jexus的运行。</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">jws.restart   <span class="comment">#重启Jexus；</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">jws.status   <span class="comment">#Jexus运行状态；</span></span></pre></td></tr></table></figure>

<pre><code>功能2，对某个指定的网站操作：</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">jws.restart 网站名     <span class="comment">#加载/启动/重启一个指定的网站</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">jws.stop 网站名        <span class="comment">#停止一个指定的网站</span></span></pre></td></tr></table></figure>

<blockquote>
<p>注意，这些脚本需要具有可执行权限，同时操作者也必须拥有管理员（root）权限。</p>
</blockquote>
<h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><blockquote>
<p>Jexus目录 /usr/jexus</p>
</blockquote>
<blockquote>
<p>Jexus站点配置目录 /usr/jexus/siteconf</p>
</blockquote>
</div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/c/">c#</a><a class="post-meta__tags" href="/tags/linux/">linux</a><a class="post-meta__tags" href="/tags/jexus/">jexus</a></div><div class="post_share"><div class="social-share" data-image="http://picgo.imaybe.cn/mine/post_default_cover2.png" data-sites="false,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2017/12/19/jexus-ubuntu-powerboot/"><img class="prev_cover" src="http://picgo.imaybe.cn/mine/post_default_cover.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">jexus 添加自启 ubuntu</div></div></a></div><div class="next-post pull_right"><a href="/2017/07/01/awesome-unity/"><img class="next_cover" src="http://picgo.imaybe.cn/mine/post_default_cover2.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">资源unity大全</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2018/01/13/aspnet-core-deploy/" title="aspnet core 发布和部署"><img class="relatedPosts_cover" src="http://picgo.imaybe.cn/mine/post_default_cover.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-01-13</div><div class="relatedPosts_title">aspnet core 发布和部署</div></div></a></div><div class="relatedPosts_item"><a href="/2017/12/19/jexus-ubuntu-powerboot/" title="jexus 添加自启 ubuntu"><img class="relatedPosts_cover" src="http://picgo.imaybe.cn/mine/post_default_cover.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-12-19</div><div class="relatedPosts_title">jexus 添加自启 ubuntu</div></div></a></div><div class="relatedPosts_item"><a href="/2018/01/04/IdentityServer4-10/" title="IdentityServer4-10 - 添加对外部认证的支持之QQ登录"><img class="relatedPosts_cover" src="http://picgo.imaybe.cn/mine/post_default_cover2.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-01-04</div><div class="relatedPosts_title">IdentityServer4-10 - 添加对外部认证的支持之QQ登录</div></div></a></div><div class="relatedPosts_item"><a href="/2017/12/26/IdentityServer4-1/" title="IdentityServer4-1 - 特性"><img class="relatedPosts_cover" src="http://picgo.imaybe.cn/mine/post_default_cover.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2017-12-26</div><div class="relatedPosts_title">IdentityServer4-1 - 特性</div></div></a></div><div class="relatedPosts_item"><a href="/2018/01/10/IdentityServer4-11/" title="IdentityServer4-11 - 使用Hybrid Flow并添加API访问控制"><img class="relatedPosts_cover" src="http://picgo.imaybe.cn/mine/post_default_cover.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-01-10</div><div class="relatedPosts_title">IdentityServer4-11 - 使用Hybrid Flow并添加API访问控制</div></div></a></div><div class="relatedPosts_item"><a href="/2018/01/10/IdentityServer4-12/" title="IdentityServer4-12 - 使用 ASP.NET Core Identity"><img class="relatedPosts_cover" src="http://picgo.imaybe.cn/mine/post_default_cover2.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-01-10</div><div class="relatedPosts_title">IdentityServer4-12 - 使用 ASP.NET Core Identity</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By GEOMCH</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">share knowledge and insights</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":150,"height":180,"position":"left","hOffset":30,"vOffset":0},"mobile":{"show":false,"scale":0.05},"react":{"opacityDefault":1,"opacityOnHover":0.2},"log":false});</script></body></html>